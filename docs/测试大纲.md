# 测试大纲

## 测试目的

通过单元测试和集成测试，尽最大可能保证局部模板的正确性，进而使整个设计正确，满足设计功能需求和处理器的使用需求。

## 测试模块

首先，`NPC`的微架构设计中，将其分为控制层，冒险层和数据通路层三个层面，即需要对这三个层面进行测试。其次，模块电路(`utils`文件夹中)是构成这三层的最小单元，应当对其进行仔细的单元测试。

### 模块

| 名称     | 测试内容                                                     | 测试方法   |
| -------- | ------------------------------------------------------------ | ---------- |
| `ImmGen` | 检查是否能够输出与指令类型对应的立即数；是否进行了正确的符号扩展 | 边界值分析 |
|          |                                                              |            |
|          |                                                              |            |

### 控制

### 冒险

### 数据通路

## 测试用例

### 模块

#### `ImmGen`

该模块的作用是生成与指令类型对应的立即数。需要测试其正确生成立即数以及是否进行了符号扩展。

| 测试编号 | 测试内容                   | 输入条件                                | 期望结果                    | 实际结果 |
| -------- | -------------------------- | --------------------------------------- | --------------------------- | -------- |
| 1        | 符号扩展<br />I-type立即数 | in：0x1ff8202<br />imm_type：IMM_TYPE_I | imm_out：0xfffffffffffffffc | 通过     |
| 2        | S-type立即数               | in：0x82268<br />imm_type：IMM_TYPE_S   | imm_out：0x48               | 通过     |
| 3        | 符号扩展<br />B-type立即数 | in：0x1fd1321<br />imm_type：IMM_TYPE_B | imm_out：0xffffffffffffffe0 | 通过     |
| 4        | U-type立即数               | in：0x122<br />imm_type：IMM_TYPE_U     | imm_out：0x9000             | 通过     |
| 5        | J-type立即数               | in：0x1eebfe1<br />imm_type：IMM_TYPE_J | imm_out：0xffffffffffffff74 | 通过     |

